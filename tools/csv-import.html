<!doctype html>
<html><head><meta charset="utf-8"/><title>CSV → JSON</title>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<style>body{font-family:system-ui;margin:20px}textarea{width:100%;height:200px}pre{white-space:pre-wrap;background:#f7f7f7;padding:10px;border-radius:8px}</style>
</head>
<body>
<h1>CSV → Question JSON</h1>
<p>Columns: id,prompt,answerA,answerB,answerC,answerD,correctIndex(0-3),explanation</p>
<textarea id="csv" placeholder="Q-001,Prompt,A,B,C,D,2,Explanation..."></textarea>
<button id="go">Convert</button>
<pre id="out"></pre>
<script>
document.getElementById('go').onclick=()=>{
  const lines = document.getElementById('csv').value.split(/\r?\n/).filter(Boolean);
  const questions = lines.map(line=>{
    const [id,prompt,a,b,c,d,ci,exp] = line.split(',');
    return { id, type:'single', prompt, answers:[a,b,c,d], correctIndex: parseInt(ci,10), explanation: exp||'' };
  });
  const json = { meta:{ setId:'custom-'+Date.now(), title:'Imported Set', author:'Admin', version:1 }, settings:{}, questions };
  document.getElementById('out').textContent = JSON.stringify(json,null,2);
};
</script>
</body></html>
